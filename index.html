<!DOCTYPE HTML>
<html>
<head>
    <title>Voyajust - Planificateur de voyage</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="assets/css/main.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />
    <noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
</head>
<body class="is-preload">
    <div id="wrapper">
        <header id="header">
            <div class="inner">
                <h1>Voyajust</h1>
                <p>Planifie ton voyage en quelques secondes</p>
                <div class="search-box">
                    <form id="search-form">
                        <div class="search-row">
                            <input type="text" placeholder="Destination (ex: Paris)" class="search-input">
                            <input type="date" class="search-date">
                        </div>
                        <button type="submit" class="search-button"><i class="fas fa-search"></i> Rechercher</button>
                    </form>
                </div>
            </div>
        </header>

        <!-- Carte du monde -->
        <div id="map" style="height: 400px; margin: 20px auto; max-width: 800px; border-radius: 8px;"></div>

        <!-- Résultats -->
        <div id="results" style="margin: 20px auto; max-width: 800px; text-align: center; min-height: 100px;"></div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>
    <script>
        // Carte centrée sur le monde
        const map = L.map('map').setView([20, 0], 2);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        }).addTo(map);

        // Gestion de la recherche
        document.getElementById('search-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const destination = document.querySelector('.search-input').value;
            const date = document.querySelector('.search-date').value;
            document.getElementById('results').innerHTML = `<p>Recherche pour <strong>${destination}</strong>...</p>`;

            // Centrage sur la ville (exemple basique)
            const cityCoords = {
                "Paris": [48.8566, 2.3522],
                "New York": [40.7128, -74.0060],
                "Tokyo": [35.6762, 139.6503],
                "Sydney": [-33.8688, 151.2093]
            };
            if (cityCoords[destination]) {
                map.setView(cityCoords[destination], 10);
                L.marker(cityCoords[destination]).addTo(map).bindPopup(destination);
            }
        });

        // Fonctions existantes
        window.onload = function() { document.body.classList.remove('is-preload'); };
    </script>
</body>
</html>
